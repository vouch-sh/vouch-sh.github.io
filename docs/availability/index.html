<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Availability and Failure Modes â€” Vouch â€” Hardware-Backed Developer Credentials</title>
<meta name=description content="What happens when the Vouch server is unreachable â€” offline behavior, credential expiry, and blast radius."><link rel=canonical href=https://vouch.sh/docs/availability/><meta property="og:title" content="Availability and Failure Modes â€” Vouch â€” Hardware-Backed Developer Credentials"><meta property="og:description" content="What happens when the Vouch server is unreachable â€” offline behavior, credential expiry, and blast radius."><meta property="og:url" content="https://vouch.sh/docs/availability/"><meta property="og:site_name" content="Vouch"><meta property="og:type" content="article"><meta property="og:image" content="https://vouch.sh/img/og-image.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Availability and Failure Modes â€” Vouch â€” Hardware-Backed Developer Credentials"><meta name=twitter:description content="What happens when the Vouch server is unreachable â€” offline behavior, credential expiry, and blast radius."><meta name=twitter:image content="https://vouch.sh/img/og-image.png"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"><link rel=icon href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”‘</text></svg>"><link rel=author href=/humans.txt><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","description":"Open-source credential broker that issues short-lived SSH, AWS, GitHub, and Kubernetes credentials after FIDO2 hardware verification. One YubiKey tap, 8 hours of access.","name":"Vouch","url":"https://vouch.sh/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","logo":"https://vouch.sh/img/og-image.png","name":"Smoke Turner, LLC","sameAs":["https://github.com/vouch-sh/vouch"],"url":"https://smoketurner.com"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","author":{"@type":"Organization","name":"Smoke Turner, LLC"},"description":"What happens when the Vouch server is unreachable â€” offline behavior, credential expiry, and blast radius.","headline":"Availability and Failure Modes","mainEntityOfPage":{"@id":"https://vouch.sh/docs/availability/","@type":"WebPage"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://vouch.sh/img/og-image.png"},"name":"Smoke Turner, LLC"}}</script><link rel=stylesheet href=https://vouch.sh/css/main.min.696319dec26a9f9526ac8dae8c8e12c4271af4250b998632e1aca67447bb363d.css></head><body><header class=nav><div class=nav-inner><a href=/ class=nav-logo><svg viewBox="0 0 32 32" fill="none"><rect x="9" y="14" width="14" height="12" rx="2" stroke="currentcolor" stroke-width="2"/><path d="M12 14V10a4 4 0 118 0v4" stroke="currentcolor" stroke-width="2" stroke-linecap="round"/><circle cx="16" cy="20" r="1.5" fill="currentcolor"/><line x1="16" y1="21.5" x2="16" y2="23.5" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg>
vouch
</a><button class=nav-toggle aria-label="Toggle navigation" onclick='document.querySelector(".nav-links").classList.toggle("open")'><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><ul class=nav-links><li><a href=/docs/>Docs</a></li><li><a href=/blog/>Blog</a></li><li><a href=/about/>About</a></li><li><a href=https://github.com/vouch-sh/vouch target=_blank rel=noopener>GitHub<svg class="github-icon" viewBox="0 0 24 24" fill="currentcolor"><path d="M12 0C5.37.0.0 5.37.0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57.0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925.0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18.0.0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225.0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22.0 1.605-.015 2.895-.015 3.3.0.315.225.69.825.57A12.02 12.02.0 0024 12c0-6.63-5.37-12-12-12z"/></svg></a></li></ul></div></header><main class=content-wrapper><div class=docs-layout><aside class=docs-sidebar id=docs-sidebar><div class=docs-sidebar-title>Documentation</div><nav><ul><li><a href=https://vouch.sh/docs/getting-started/>Getting Started</a></li><li><a href=https://vouch.sh/docs/startups/>Startups</a></li><li class=sidebar-section-group><span class=sidebar-section-label>Infrastructure</span><ul><li><a href=https://vouch.sh/docs/aws/>AWS</a></li><li><a href=https://vouch.sh/docs/aws-multi-account/>AWS Multi-Account</a></li><li><a href=https://vouch.sh/docs/ssh/>SSH Certificates</a></li><li><a href=https://vouch.sh/docs/eks/>Amazon EKS</a></li><li><a href=https://vouch.sh/docs/ssm/>AWS Systems Manager</a></li><li><a href=https://vouch.sh/docs/databases/>Databases</a></li><li><a href=https://vouch.sh/docs/bedrock/>Amazon Bedrock</a></li></ul></li><li class=sidebar-section-group><span class=sidebar-section-label>Code & Packages</span><ul><li><a href=https://vouch.sh/docs/github/>GitHub</a></li><li><a href=https://vouch.sh/docs/docker/>Docker Registries</a></li><li><a href=https://vouch.sh/docs/codeartifact/>AWS CodeArtifact</a></li><li><a href=https://vouch.sh/docs/codecommit/>AWS CodeCommit</a></li><li><a href=https://vouch.sh/docs/cargo/>Cargo</a></li></ul></li><li class=sidebar-section-group><span class=sidebar-section-label>Platform</span><ul><li class=sidebar-group><div class=sidebar-group-header><a href=https://vouch.sh/docs/applications/>Applications (OIDC)
</a><button class=sidebar-chevron onclick='this.closest(".sidebar-group").classList.toggle("open")' aria-label="Toggle section"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg></button></div><ul class=sidebar-children><li><a href=https://vouch.sh/docs/applications/rails/>Rails (OmniAuth)</a></li><li><a href=https://vouch.sh/docs/applications/django/>Django (django-allauth)</a></li><li><a href=https://vouch.sh/docs/applications/express/>Express.js (Passport)</a></li><li><a href=https://vouch.sh/docs/applications/nextjs/>Next.js (NextAuth.js)</a></li><li><a href=https://vouch.sh/docs/applications/laravel/>Laravel (Socialite)</a></li><li><a href=https://vouch.sh/docs/applications/flask/>Flask (Authlib)</a></li><li><a href=https://vouch.sh/docs/applications/fastapi/>FastAPI (Authlib)</a></li><li><a href=https://vouch.sh/docs/applications/spring-boot/>Spring Boot (Spring Security)</a></li><li><a href=https://vouch.sh/docs/applications/axum/>Axum (openidconnect-rs)</a></li><li><a href=https://vouch.sh/docs/applications/react/>React (react-oidc-context)</a></li><li><a href=https://vouch.sh/docs/applications/vue/>Vue (oidc-client-ts)</a></li><li><a href=https://vouch.sh/docs/applications/vanilla-js/>Vanilla JavaScript</a></li><li><a href=https://vouch.sh/docs/applications/device-authorization/>Device Authorization (CLI)</a></li></ul></li><li><a href=https://vouch.sh/docs/scim/>SCIM Provisioning</a></li><li><a href=https://vouch.sh/docs/iac/>Infrastructure as Code</a></li><li><a href=https://vouch.sh/docs/cicd/>CI/CD</a></li><li><a href=https://vouch.sh/docs/cli-reference/>CLI Reference</a></li><li><a href=https://vouch.sh/docs/security/>Security</a></li><li><a href=https://vouch.sh/docs/threat-model/>Threat Model</a></li><li><a href=https://vouch.sh/docs/architecture/>Architecture</a></li><li><a href=https://vouch.sh/docs/availability/ class=active>Availability</a></li><li><a href=https://vouch.sh/docs/migration/>Migration</a></li><li><a href=https://vouch.sh/docs/faq/>FAQ</a></li></ul></li></ul></nav></aside><article class=docs-content><div class=docs-breadcrumb><a href=https://vouch.sh/docs/>Docs</a><span class=separator>/</span>
Availability and Failure Modes</div><h1>Availability and Failure Modes</h1><p style=color:var(--text-muted);font-size:1.1rem;margin-bottom:2rem>Understand the blast radius when things go wrong</p><p>Vouch sits in the critical path for developer credentials. Before adopting it, you should understand what happens when the server is unreachable, when a session expires, or when individual integrations fail.</p><hr><h2 id=normal-operation>Normal operation</h2><p>During normal operation with an active session (up to 8 hours after <code>vouch login</code>):</p><table><thead><tr><th>Integration</th><th>Credential source</th><th>Lifetime</th></tr></thead><tbody><tr><td>SSH</td><td>Certificate cached in agent memory</td><td>8 hours</td></tr><tr><td>AWS (<code>credential_process</code>)</td><td>STS credentials fetched on demand, cached</td><td>1 hour</td></tr><tr><td>GitHub</td><td>Installation token fetched on demand</td><td>1 hour</td></tr><tr><td>Docker (ECR)</td><td>Registry token fetched on demand</td><td>12 hours</td></tr><tr><td>Docker (GHCR)</td><td>GitHub token fetched on demand</td><td>1 hour</td></tr><tr><td>CodeCommit</td><td>SigV4 signature computed on demand</td><td>Per-request</td></tr><tr><td>CodeArtifact</td><td>Authorization token fetched on demand</td><td>12 hours</td></tr><tr><td>Cargo</td><td>Token fetched on demand</td><td>Session lifetime</td></tr></tbody></table><hr><h2 id=offline-behavior>Offline behavior</h2><h3 id=server-unreachable-during-active-session>Server unreachable during active session</h3><p>If the Vouch server becomes unreachable while you have an active session:</p><table><thead><tr><th>What works</th><th>Why</th></tr></thead><tbody><tr><td><strong>SSH connections</strong></td><td>The SSH certificate is cached in the agent&rsquo;s memory. It remains valid until it expires (up to 8 hours from login). No server contact is needed.</td></tr><tr><td><strong>AWS commands</strong></td><td>Cached STS credentials remain valid until their 1-hour expiry. If cached credentials exist, <code>credential_process</code> returns them without contacting the server.</td></tr><tr><td><strong>Docker pulls</strong> (with cached token)</td><td>ECR tokens last up to 12 hours and are cached locally by Docker.</td></tr></tbody></table><table><thead><tr><th>What fails</th><th>Why</th></tr></thead><tbody><tr><td><strong>New AWS credential requests</strong> (after cache expires)</td><td><code>credential_process</code> calls <code>vouch credential aws</code>, which needs to exchange the session for fresh STS credentials via the server.</td></tr><tr><td><strong>New GitHub token requests</strong></td><td>GitHub installation tokens are fetched through the server.</td></tr><tr><td><strong>New CodeArtifact tokens</strong></td><td>Token exchange requires server communication.</td></tr><tr><td><strong><code>vouch login</code></strong></td><td>A new login always requires the server for FIDO2 validation.</td></tr></tbody></table><p><strong>Key point:</strong> An active session with cached credentials continues working without server contact. The impact of a server outage depends on when cached credentials expire. In the worst case, you have up to 1 hour of AWS access and up to 8 hours of SSH access after the server goes down.</p><h3 id=server-unreachable-with-no-active-session>Server unreachable with no active session</h3><p>If the Vouch server is unreachable and you have no active session (e.g., at the start of a workday), you cannot authenticate. No new credentials can be obtained.</p><p><strong>Mitigation:</strong> Break-glass access. Maintain a separate emergency access path (e.g., an IAM user with MFA in a sealed envelope, or AWS root account credentials in a hardware security module) for situations where Vouch is unavailable and critical access is needed.</p><hr><h2 id=session-expiry>Session expiry</h2><p>When your 8-hour session expires:</p><ul><li><strong>SSH connections</strong> in progress continue until they are closed (the certificate was already presented during connection setup).</li><li><strong>New SSH connections</strong> fail because the certificate has expired.</li><li><strong>AWS commands</strong> continue working until the cached STS credentials expire (up to 1 hour after the last credential fetch).</li><li><strong>New credential requests</strong> of all types fail until you run <code>vouch login</code> again.</li></ul><p>This is by design. Short session lifetimes limit the window of exposure if a machine is compromised.</p><hr><h2 id=credential-helper-failure-modes>Credential helper failure modes</h2><h3 id=credential_process-aws><code>credential_process</code> (AWS)</h3><p>The AWS CLI and SDKs call <code>vouch credential aws</code> via the <code>credential_process</code> configuration. If this command fails:</p><ul><li>The AWS CLI prints an error: <code>Error when retrieving credentials from custom-process</code>.</li><li>The command does not fall back to other credential sources in the same profile. However, if you have other AWS profiles configured (e.g., a fallback profile with static keys), you can switch profiles.</li><li><strong>Important:</strong> <code>credential_process</code> errors do not cache. Each AWS command retries the credential process independently.</li></ul><h3 id=ssh-agent>SSH agent</h3><p>If the Vouch agent is not running:</p><ul><li><code>ssh</code> falls back to the next available authentication method (other SSH agents, keys in <code>~/.ssh/</code>, password authentication) depending on your SSH configuration.</li><li>If no fallback is configured, the connection fails with <code>Permission denied</code>.</li></ul><h3 id=git-credential-helper>Git credential helper</h3><p>If the Vouch Git credential helper fails (for GitHub or CodeCommit):</p><ul><li>Git prompts for a username and password, or fails with <code>Authentication failed</code> depending on the remote configuration.</li><li>This does not affect other Git remotes that do not use Vouch.</li></ul><hr><h2 id=de-provisioning-timeline>De-provisioning timeline</h2><p>When a user is de-provisioned (via SCIM or manual removal):</p><table><thead><tr><th>Time</th><th>Effect</th></tr></thead><tbody><tr><td><strong>Immediately</strong></td><td>Active sessions are revoked on the server. New credential requests fail.</td></tr><tr><td><strong>Within 1 hour</strong></td><td>Cached AWS STS credentials expire. AWS access stops.</td></tr><tr><td><strong>Within 8 hours</strong></td><td>SSH certificate expires. SSH access stops.</td></tr><tr><td><strong>Within 12 hours</strong></td><td>Cached ECR/CodeArtifact tokens expire.</td></tr></tbody></table><p>The maximum exposure window after de-provisioning is the longest credential lifetime (currently 12 hours for ECR tokens). For most integrations, access ends within 1 hour.</p><hr><h2 id=status-and-monitoring>Status and monitoring</h2><p>Check the Vouch server&rsquo;s operational status:</p><ul><li><strong>Status page:</strong> Contact your Vouch server administrator for status page URL.</li><li><strong>CLI health check:</strong> <code>vouch status</code> reports whether the agent is running and whether the current session is valid.</li></ul><hr><h2 id=planning-for-failure>Planning for failure</h2><h3 id=recommendations>Recommendations</h3><ol><li><strong>Establish break-glass procedures</strong> before rolling out Vouch. Document an emergency access path that does not depend on Vouch.</li><li><strong>Stagger session starts</strong> across the team. If everyone logs in at 9 AM, everyone&rsquo;s sessions expire at 5 PM. Consider encouraging re-login before critical deployments.</li><li><strong>Monitor <code>vouch login</code> failures</strong> as an early warning of server issues.</li><li><strong>Keep the Vouch agent running</strong> to preserve cached credentials across CLI invocations. On macOS, use <code>brew services</code>. On Linux, use systemd.</li><li><strong>Test credential expiry</strong> in a non-production environment so the team knows what failure looks like before it happens in production.</li></ol></article></div><div class=sidebar-overlay id=sidebar-overlay onclick=closeSidebar()></div><button class=sidebar-toggle onclick=toggleSidebar() aria-label="Toggle sidebar">
<svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
<script>function toggleSidebar(){document.getElementById("docs-sidebar").classList.toggle("open"),document.getElementById("sidebar-overlay").classList.toggle("open")}function closeSidebar(){document.getElementById("docs-sidebar").classList.remove("open"),document.getElementById("sidebar-overlay").classList.remove("open")}</script></main><footer class=footer><div class=footer-inner><div class=footer-left><div>&copy; 2026 Smoke Turner, LLC</div><div class=footer-instances>Instances:
<a href=https://us.vouch.sh>US</a>
&#183;
<span class=coming-soon>EU (coming soon)</span>
&#183;
<span class=coming-soon>APAC (coming soon)</span></div></div><div class=footer-links><a href=/about/>About</a>
<a href=/docs/security/>Security</a>
<a href=/privacy/>Privacy</a>
<a href=/terms/>Terms</a>
<a href=https://github.com/vouch-sh/vouch target=_blank rel=noopener>GitHub</a></div></div></footer></body></html>