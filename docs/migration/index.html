<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Migration Guide â€” Vouch â€” Hardware-Backed Developer Credentials</title>
<meta name=description content="Migrate from static credentials to Vouch â€” phased rollout, integration-by-integration checklist, and rollback plan."><link rel=canonical href=https://vouch.sh/docs/migration/><meta property="og:title" content="Migration Guide â€” Vouch â€” Hardware-Backed Developer Credentials"><meta property="og:description" content="Migrate from static credentials to Vouch â€” phased rollout, integration-by-integration checklist, and rollback plan."><meta property="og:url" content="https://vouch.sh/docs/migration/"><meta property="og:site_name" content="Vouch"><meta property="og:type" content="article"><meta property="og:image" content="https://vouch.sh/img/og-image.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Migration Guide â€” Vouch â€” Hardware-Backed Developer Credentials"><meta name=twitter:description content="Migrate from static credentials to Vouch â€” phased rollout, integration-by-integration checklist, and rollback plan."><meta name=twitter:image content="https://vouch.sh/img/og-image.png"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"><link rel=icon href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”‘</text></svg>"><link rel=author href=/humans.txt><script type=application/ld+json>{"@context":"https://schema.org","@type":"WebSite","description":"Open-source credential broker that issues short-lived SSH, AWS, GitHub, and Kubernetes credentials after FIDO2 hardware verification. One YubiKey tap, 8 hours of access.","name":"Vouch","url":"https://vouch.sh/"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","logo":"https://vouch.sh/img/og-image.png","name":"Smoke Turner, LLC","sameAs":["https://github.com/vouch-sh/vouch"],"url":"https://smoketurner.com"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"TechArticle","author":{"@type":"Organization","name":"Smoke Turner, LLC"},"description":"Migrate from static credentials to Vouch â€” phased rollout, integration-by-integration checklist, and rollback plan.","headline":"Migration Guide","mainEntityOfPage":{"@id":"https://vouch.sh/docs/migration/","@type":"WebPage"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://vouch.sh/img/og-image.png"},"name":"Smoke Turner, LLC"}}</script><link rel=stylesheet href=https://vouch.sh/css/main.min.696319dec26a9f9526ac8dae8c8e12c4271af4250b998632e1aca67447bb363d.css></head><body><header class=nav><div class=nav-inner><a href=/ class=nav-logo><svg viewBox="0 0 32 32" fill="none"><rect x="9" y="14" width="14" height="12" rx="2" stroke="currentcolor" stroke-width="2"/><path d="M12 14V10a4 4 0 118 0v4" stroke="currentcolor" stroke-width="2" stroke-linecap="round"/><circle cx="16" cy="20" r="1.5" fill="currentcolor"/><line x1="16" y1="21.5" x2="16" y2="23.5" stroke="currentcolor" stroke-width="1.5" stroke-linecap="round"/></svg>
vouch
</a><button class=nav-toggle aria-label="Toggle navigation" onclick='document.querySelector(".nav-links").classList.toggle("open")'><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><ul class=nav-links><li><a href=/docs/>Docs</a></li><li><a href=/blog/>Blog</a></li><li><a href=/about/>About</a></li><li><a href=https://github.com/vouch-sh/vouch target=_blank rel=noopener>GitHub<svg class="github-icon" viewBox="0 0 24 24" fill="currentcolor"><path d="M12 0C5.37.0.0 5.37.0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57.0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925.0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18.0.0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225.0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22.0 1.605-.015 2.895-.015 3.3.0.315.225.69.825.57A12.02 12.02.0 0024 12c0-6.63-5.37-12-12-12z"/></svg></a></li></ul></div></header><main class=content-wrapper><div class=docs-layout><aside class=docs-sidebar id=docs-sidebar><div class=docs-sidebar-title>Documentation</div><nav><ul><li><a href=https://vouch.sh/docs/getting-started/>Getting Started</a></li><li><a href=https://vouch.sh/docs/startups/>Startups</a></li><li class=sidebar-section-group><span class=sidebar-section-label>Infrastructure</span><ul><li><a href=https://vouch.sh/docs/aws/>AWS</a></li><li><a href=https://vouch.sh/docs/aws-multi-account/>AWS Multi-Account</a></li><li><a href=https://vouch.sh/docs/ssh/>SSH Certificates</a></li><li><a href=https://vouch.sh/docs/eks/>Amazon EKS</a></li><li><a href=https://vouch.sh/docs/ssm/>AWS Systems Manager</a></li><li><a href=https://vouch.sh/docs/databases/>Databases</a></li><li><a href=https://vouch.sh/docs/bedrock/>Amazon Bedrock</a></li></ul></li><li class=sidebar-section-group><span class=sidebar-section-label>Code & Packages</span><ul><li><a href=https://vouch.sh/docs/github/>GitHub</a></li><li><a href=https://vouch.sh/docs/docker/>Docker Registries</a></li><li><a href=https://vouch.sh/docs/codeartifact/>AWS CodeArtifact</a></li><li><a href=https://vouch.sh/docs/codecommit/>AWS CodeCommit</a></li><li><a href=https://vouch.sh/docs/cargo/>Cargo</a></li></ul></li><li class=sidebar-section-group><span class=sidebar-section-label>Platform</span><ul><li class=sidebar-group><div class=sidebar-group-header><a href=https://vouch.sh/docs/applications/>Applications (OIDC)
</a><button class=sidebar-chevron onclick='this.closest(".sidebar-group").classList.toggle("open")' aria-label="Toggle section"><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg></button></div><ul class=sidebar-children><li><a href=https://vouch.sh/docs/applications/rails/>Rails (OmniAuth)</a></li><li><a href=https://vouch.sh/docs/applications/django/>Django (django-allauth)</a></li><li><a href=https://vouch.sh/docs/applications/express/>Express.js (Passport)</a></li><li><a href=https://vouch.sh/docs/applications/nextjs/>Next.js (NextAuth.js)</a></li><li><a href=https://vouch.sh/docs/applications/laravel/>Laravel (Socialite)</a></li><li><a href=https://vouch.sh/docs/applications/flask/>Flask (Authlib)</a></li><li><a href=https://vouch.sh/docs/applications/fastapi/>FastAPI (Authlib)</a></li><li><a href=https://vouch.sh/docs/applications/spring-boot/>Spring Boot (Spring Security)</a></li><li><a href=https://vouch.sh/docs/applications/axum/>Axum (openidconnect-rs)</a></li><li><a href=https://vouch.sh/docs/applications/react/>React (react-oidc-context)</a></li><li><a href=https://vouch.sh/docs/applications/vue/>Vue (oidc-client-ts)</a></li><li><a href=https://vouch.sh/docs/applications/vanilla-js/>Vanilla JavaScript</a></li><li><a href=https://vouch.sh/docs/applications/device-authorization/>Device Authorization (CLI)</a></li></ul></li><li><a href=https://vouch.sh/docs/scim/>SCIM Provisioning</a></li><li><a href=https://vouch.sh/docs/iac/>Infrastructure as Code</a></li><li><a href=https://vouch.sh/docs/cicd/>CI/CD</a></li><li><a href=https://vouch.sh/docs/cli-reference/>CLI Reference</a></li><li><a href=https://vouch.sh/docs/security/>Security</a></li><li><a href=https://vouch.sh/docs/threat-model/>Threat Model</a></li><li><a href=https://vouch.sh/docs/architecture/>Architecture</a></li><li><a href=https://vouch.sh/docs/availability/>Availability</a></li><li><a href=https://vouch.sh/docs/migration/ class=active>Migration</a></li><li><a href=https://vouch.sh/docs/faq/>FAQ</a></li></ul></li></ul></nav></aside><article class=docs-content><div class=docs-breadcrumb><a href=https://vouch.sh/docs/>Docs</a><span class=separator>/</span>
Migration Guide</div><h1>Migration Guide</h1><p style=color:var(--text-muted);font-size:1.1rem;margin-bottom:2rem>Move from static secrets to hardware-backed credentials without disrupting your team</p><p>Migrating to Vouch does not have to be all-or-nothing. You can install Vouch alongside your existing credentials and migrate one integration at a time. This guide walks through a phased rollout, a per-integration checklist, and a rollback plan.</p><hr><h2 id=phase-1----install-and-enroll>Phase 1 &ndash; Install and enroll</h2><p>Install the Vouch CLI alongside your existing credential setup. Nothing changes yet.</p><ol><li><strong>Install the CLI</strong> on each developer&rsquo;s machine. See <a href=/docs/getting-started/>Getting Started</a>.</li><li><strong>Enroll YubiKeys</strong> with the Vouch server. Each developer runs <code>vouch enroll</code>.</li><li><strong>Test login.</strong> Each developer runs <code>vouch login</code> and verifies they can authenticate.</li></ol><p>At this point, Vouch is installed but no integrations are active. Existing SSH keys, AWS access keys, and GitHub PATs continue to work as before.</p><hr><h2 id=phase-2----migrate-integrations-one-at-a-time>Phase 2 &ndash; Migrate integrations one at a time</h2><p>Pick one integration to migrate first. AWS is recommended because <code>credential_process</code> works alongside existing credentials without conflict.</p><h3 id=migration-order-recommended>Migration order (recommended)</h3><table><thead><tr><th>Order</th><th>Integration</th><th>Why first/last</th></tr></thead><tbody><tr><td>1</td><td><strong>AWS</strong></td><td><code>credential_process</code> adds a new profile. Existing profiles and access keys are unaffected.</td></tr><tr><td>2</td><td><strong>SSH</strong></td><td>Vouch SSH certificates work alongside existing SSH keys. The SSH agent falls back to keys if the certificate is unavailable.</td></tr><tr><td>3</td><td><strong>GitHub</strong></td><td>Git credential helpers can be stacked. Vouch adds a new helper without removing existing ones.</td></tr><tr><td>4</td><td><strong>Docker</strong></td><td>Docker credential helpers can be configured per registry. Migrate one registry at a time.</td></tr><tr><td>5</td><td><strong>CodeCommit</strong></td><td>Requires AWS integration to be working first.</td></tr><tr><td>6</td><td><strong>CodeArtifact</strong></td><td>Requires AWS integration to be working first.</td></tr><tr><td>7</td><td><strong>EKS</strong></td><td>Requires AWS integration and <code>kubectl</code> configuration.</td></tr><tr><td>8</td><td><strong>Databases</strong></td><td>Requires AWS integration and application-level changes for IAM auth.</td></tr></tbody></table><h3 id=per-integration-checklist>Per-integration checklist</h3><p>For each integration:</p><ul><li><input disabled type=checkbox> <strong>Configure the integration</strong> using <code>vouch setup &lt;integration></code>.</li><li><input disabled type=checkbox> <strong>Test with one developer</strong> before rolling out to the team.</li><li><input disabled type=checkbox> <strong>Verify the tool works</strong> with Vouch credentials (e.g., <code>aws s3 ls --profile vouch</code>, <code>ssh user@server</code>, <code>git push</code>).</li><li><input disabled type=checkbox> <strong>Run for one week</strong> with both Vouch and static credentials available.</li><li><input disabled type=checkbox> <strong>Migrate the rest of the team</strong> once the pilot developer confirms it works.</li></ul><hr><h2 id=phase-3----revoke-old-credentials>Phase 3 &ndash; Revoke old credentials</h2><p>After each integration is working with Vouch for the entire team, revoke the static credentials it replaced:</p><h3 id=aws-access-keys>AWS access keys</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># List existing access keys</span>
</span></span><span style=display:flex><span>aws iam list-access-keys --user-name alice
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Deactivate first (in case you need to re-enable)</span>
</span></span><span style=display:flex><span>aws iam update-access-key --user-name alice --access-key-id AKIAXXXXXXXX --status Inactive
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Delete after confirming everything works</span>
</span></span><span style=display:flex><span>aws iam delete-access-key --user-name alice --access-key-id AKIAXXXXXXXX
</span></span></code></pre></div><p>Check <code>~/.aws/credentials</code> on each developer&rsquo;s machine and remove static entries.</p><h3 id=ssh-keys>SSH keys</h3><ol><li>Remove old public keys from <code>~/.ssh/authorized_keys</code> on servers (or from your configuration management tool).</li><li>Keep the Vouch CA public key as the only trusted signer in <code>sshd_config</code>.</li><li>Developers can keep their SSH key files locally as a fallback, or remove them.</li></ol><h3 id=github-pats>GitHub PATs</h3><ol><li>Navigate to GitHub <strong>Settings > Developer settings > Personal access tokens</strong>.</li><li>Revoke tokens that were used for repository access.</li><li>Verify that <code>git push</code> still works with the Vouch credential helper.</li></ol><h3 id=docker-credentials>Docker credentials</h3><ol><li>Check <code>~/.docker/config.json</code> for stored registry credentials.</li><li>Remove entries for registries now handled by Vouch.</li></ol><hr><h2 id=cicd-considerations>CI/CD considerations</h2><p>CI/CD pipelines typically do not have YubiKeys. They will continue to use their existing credential mechanisms:</p><table><thead><tr><th>CI/CD pattern</th><th>Recommendation</th></tr></thead><tbody><tr><td><strong>GitHub Actions</strong></td><td>Use OIDC federation with GitHub&rsquo;s built-in OIDC provider (<code>token.actions.githubusercontent.com</code>). This is separate from Vouch and provides the same STS-based authentication for pipelines.</td></tr><tr><td><strong>AWS CodeBuild / CodePipeline</strong></td><td>Use IAM roles attached to the build environment. No static keys needed.</td></tr><tr><td><strong>Jenkins / GitLab CI</strong></td><td>Use IAM roles if running on EC2, or <a href=/docs/cicd/>Vouch CI/CD integration</a> for human approval gates.</td></tr><tr><td><strong>Static keys in CI/CD</strong></td><td>If your pipeline currently uses static AWS keys, keep them for now. Replace them with OIDC federation (GitHub Actions) or IAM roles (EC2-based runners) as a separate project.</td></tr></tbody></table><p>Vouch&rsquo;s <a href=/docs/cicd/>CI/CD integration</a> is designed for human approval gates (e.g., requiring a YubiKey tap before a production deployment), not for replacing machine credentials in automated pipelines.</p><hr><h2 id=rollback-plan>Rollback plan</h2><p>If you need to revert to static credentials for any integration:</p><h3 id=aws>AWS</h3><ol><li>Re-enable or re-create IAM access keys for affected users.</li><li>Update <code>~/.aws/credentials</code> with the static keys.</li><li>Remove or comment out the <code>credential_process</code> line in <code>~/.aws/config</code> for the Vouch profile.</li></ol><h3 id=ssh>SSH</h3><ol><li>Re-add public keys to <code>~/.ssh/authorized_keys</code> on servers.</li><li>Ensure <code>IdentityFile</code> entries in <code>~/.ssh/config</code> point to the static keys.</li><li>SSH falls back to keys automatically if the Vouch certificate is unavailable.</li></ol><h3 id=github>GitHub</h3><ol><li>Generate a new GitHub PAT.</li><li>Update the Git credential helper or set <code>GIT_ASKPASS</code> to use the PAT.</li><li>Remove the Vouch credential helper entry from <code>~/.gitconfig</code>.</li></ol><h3 id=docker>Docker</h3><ol><li>Run <code>docker login &lt;registry></code> with static credentials.</li><li>Remove the Vouch credential helper from <code>~/.docker/config.json</code>.</li></ol><hr><h2 id=verification-checklist>Verification checklist</h2><p>After completing migration for all integrations:</p><ul><li><input disabled type=checkbox> All developers can <code>vouch login</code> and access all required services.</li><li><input disabled type=checkbox> No static AWS access keys remain active in IAM.</li><li><input disabled type=checkbox> No static SSH keys remain in <code>authorized_keys</code> (only the Vouch CA is trusted).</li><li><input disabled type=checkbox> No GitHub PATs remain active.</li><li><input disabled type=checkbox> CI/CD pipelines continue to function with their own credential mechanisms.</li><li><input disabled type=checkbox> SCIM provisioning is configured for automated onboarding/offboarding (recommended for teams > 15 people).</li><li><input disabled type=checkbox> Break-glass procedures are documented for emergency access without Vouch. See <a href=/docs/availability/>Availability</a>.</li></ul></article></div><div class=sidebar-overlay id=sidebar-overlay onclick=closeSidebar()></div><button class=sidebar-toggle onclick=toggleSidebar() aria-label="Toggle sidebar">
<svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
<script>function toggleSidebar(){document.getElementById("docs-sidebar").classList.toggle("open"),document.getElementById("sidebar-overlay").classList.toggle("open")}function closeSidebar(){document.getElementById("docs-sidebar").classList.remove("open"),document.getElementById("sidebar-overlay").classList.remove("open")}</script></main><footer class=footer><div class=footer-inner><div class=footer-left><div>&copy; 2026 Smoke Turner, LLC</div><div class=footer-instances>Instances:
<a href=https://us.vouch.sh>US</a>
&#183;
<span class=coming-soon>EU (coming soon)</span>
&#183;
<span class=coming-soon>APAC (coming soon)</span></div></div><div class=footer-links><a href=/about/>About</a>
<a href=/docs/security/>Security</a>
<a href=/privacy/>Privacy</a>
<a href=/terms/>Terms</a>
<a href=https://github.com/vouch-sh/vouch target=_blank rel=noopener>GitHub</a></div></div></footer></body></html>